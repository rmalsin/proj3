printNow ('Welcome to the Movie Transformer!')
while True:
  printNow ('Your options include:'+'\n'+'1--Negation'+'\n'+'2--Flip across vertical axis'+'\n'+'3--Grayscale'+'\n'+'4--Edge Detection'+'\n'+'5--Pure Black & White(AKA Stamp Effect)'+'\n'+'6--Blur Effect'+'\n'+'7--Faded Effect')
  selection = input('Please enter your selection now: ')

  printNow ('You entered ' + str(selection))
  if selection >= 1 and selection <=7:
    break
    
printNow('============================================================================')
printNow('Select desired folder containing frames to be processed')
folDir = setMediaPath()
printNow('DO NOT TOUCH FILE EXPLORER UNTIL COMPLETED')


def movieMaker(folDir):
  printNow('============================================================================')
  printNow('Now select first modified frame to use for first frame in movie')
  newMovie = makeMovieFromInitialFile(pickAFile())
  playMovie(newMovie)
  writeAVI(newMovie, folDir, 24)

def negativePicture(folDir):    
  for file in os.listdir(folDir):
    printNow('Now processing: '+str(file))
    negPict=makePicture(file)
    width=getWidth(negPict)
    height=getHeight(negPict)
    makeNegPic=makeEmptyPicture(width,height)
    #show(negPict)
    for px in getPixels(negPict):
      red=getRed(px)
      green=getGreen(px)
      blue=getBlue(px)
      setColor (px, makeColor(255-red, 255-green, 255-blue))
    for x in range(0, width):
      for y in range(0, height):
        color=getColor(getPixel(negPict, x, y))
        setColor(getPixel(makeNegPic,x, y),color)
    printNow('Now saving: '+str(file))
    writePictureTo(makeNegPic, 'NEG'+str(file))
  printNow('PROCESS COMPLETE')

def reversePicture(folDir):
    for file in os.listdir(folDir):
      printNow('Now processing: '+str(file))
      revPict=makePicture(file)
      width=getWidth(revPict)
      height=getHeight(revPict)
      makeRevPic=makeEmptyPicture(width,height)
      for x in range(0, width):
        for y in range(0, height):
          color=getColor(getPixel(revPict, x, y))
          setColor(getPixel(makeRevPic,width-x-1, y),color)
      printNow('Now saving: '+str(file))
      writePictureTo(makeRevPic, 'REV'+str(file))
    printNow('PROCESS COMPLETE')
      
def greyscalePicture(folDir):    
  for file in os.listdir(folDir):
    printNow('Now processing: '+str(file))
    greyPict=makePicture(file)
    width=getWidth(greyPict)
    height=getHeight(greyPict)
    makeGreyPic=makeEmptyPicture(width,height)
    for px in getPixels(greyPict):
      greyRed=getRed(px)*0.299
      greyGreen=getGreen(px)*0.587
      greyBlue=getBlue(px)*0.114
      greyColor=greyRed + greyGreen + greyBlue
      setColor(px, makeColor(greyColor, greyColor, greyColor))
    for x in range(0, width):
      for y in range(0, height):
        color=getColor(getPixel(greyPict, x, y))
        setColor(getPixel(makeGreyPic,x, y),color)
    printNow('Now saving: '+str(file))
    writePictureTo(makeGreyPic, 'GREY'+str(file))
  printNow('PROCESS COMPLETE')

def blurredPicture(folDir):
  for file in os.listdir(folDir):
    printNow('Now processing: '+str(file))
    blurPict=makePicture(file)
    width=getWidth(blurPict)
    height=getHeight(blurPict)
    makeBlurPic=makeEmptyPicture(width-10,height)
    for px in getPixels(makeBlurPic):
      x=getX(px)
      y=getY(px)
      if (x+10<width):
        rTotal=0
        gTotal=0
        bTotal=0
        for i in range(0,10):
           origpx=getPixel(blurPict,x+i,y)
           rTotal=rTotal+getRed(origpx)
           gTotal=gTotal+getGreen(origpx)
           bTotal=bTotal+getBlue(origpx)
        rAverage=(rTotal/10)
        gAverage=(gTotal/10)
        bAverage=(bTotal/10)
        setRed(px,rAverage)
        setGreen(px,gAverage)
        setBlue(px,bAverage)
    printNow('Now saving: '+str(file))
    writePictureTo(makeRevPic, 'BLUR'+str(file))
  printNow('PROCESS COMPLETE')

def fadedPicture(folDir):
  for file in os.listdir(folDir):
    printNow('Now processing: '+str(file))    
    fadePict=makePicture(file)
    width=getWidth(fadePict)
    height=getHeight(fadePict)
    makeFadedPic=makeEmptyPicture(width,height)
    #show(fadePict)
    for px in getPixels(fadePict):
      newRed = (255*.3) + (getRed(px)*(.7))
      newGreen = (255*.3) + (getGreen(px)*(.7))
      newBlue = (255*.3) + (getBlue(px)*(.7))
      setColor(px, makeColor(newRed, newGreen, newBlue))
    for x in range(0, width):
      for y in range(0, height):
        color=getColor(getPixel(fadePict, x, y))
        setColor(getPixel(makeFadedPic,x, y),color)
    printNow('Now saving: '+str(file))
    writePictureTo(makeFadedPic, 'FADE'+str(file))
  printNow('PROCESS COMPLETE')

def blackWhitePicture(folDir):
  for file in os.listdir(folDir):
    printNow('Now processing: '+str(file))    
    bwPict=makePicture(file)
    width=getWidth(bwPict)
    height=getHeight(bwPict)
    makeBlackWhitePic=makeEmptyPicture(width,height)
    for px in getPixels(bwPict):
      red=getRed(px)
      green=getGreen(px)
      blue=getBlue(px)
      bwIndicator=((red+blue+green)/3)
      if bwIndicator > 127:
        setColor (px, makeColor(255, 255, 255))
      else:
        setColor (px, makeColor(0, 0, 0))
    for x in range(0, width):
      for y in range(0, height):
        color=getColor(getPixel(bwPict, x, y))
        setColor(getPixel(makeBlackWhitePic,x, y),color)
    printNow('Now saving: '+str(file))
    writePictureTo(makeBlackWhitePic, 'BW'+str(file))
  printNow('PROCESS COMPLETE')

if selection == 1:
  negativePicture(folDir)
  movieMaker(folDir)
elif selection == 2:
  reversePicture(folDir)
  movieMaker(folDir)
elif selection == 3:
  greyscalePicture(folDir)
  movieMaker(folDir)
elif selection == 4:
  something3
elif selection == 5:
  blackWhitePicture(folDir)
  movieMaker(folDir)
elif selection == 6:
  blurredPicture(folDir)
  movieMaker(folDir)
elif selection == 7:
  fadedPicture(folDir)
  movieMaker(folDir)
